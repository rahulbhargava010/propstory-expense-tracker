(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{166:function(e,a,t){},180:function(e,a,t){e.exports=t.p+"static/media/alert.52ff4194.png"},184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CalcDrawer}));var C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(81),C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(93),C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(284),_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(289),_ResultComponent__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(185),_KeyPadComponent__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(186),react_icons_ai__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(195),useStyles=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__.a)({list:{paddingTop:"50%",width:350},fullList:{width:"auto"}});function CalcDrawer(){var classes=useStyles(),_React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState({right:!1}),_React$useState2=Object(C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_React$useState,2),state=_React$useState2[0],setState=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(""),_React$useState4=Object(C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_React$useState3,2),result=_React$useState4[0],setResult=_React$useState4[1],onClick=function(e){"="===e?calculate():"C"===e?reset():"CE"===e?backspace():setResult(result+e)},calculate=function calculate(){var checkResult="";checkResult=result.includes("--")?result.replace("--","+"):result;try{setResult((eval(checkResult)||"")+"")}catch(e){setResult("error")}},reset=function(){setResult("")},backspace=function(){setResult(result.slice(0,-1))},toggleDrawer=function(e,a){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&setState(Object(C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state),{},Object(C_Users_HIT_Documents_WORKSPACE_propstory_expense_tracker_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},e,a)))}},list=function(e){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:classes.list,role:"presentation",onKeyDown:toggleDrawer(e,!1)},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:"calculator-body"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_ResultComponent__WEBPACK_IMPORTED_MODULE_7__.a,{result:result}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_KeyPadComponent__WEBPACK_IMPORTED_MODULE_8__.a,{onClick:onClick})))};return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",null,["right"].map((function(e){return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,{key:e},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a",{onClick:toggleDrawer(e,!0),style:{position:"absolute",right:10,top:70,outline:"none",fontSize:20,color:"#fff",borderRadius:8,padding:8,cursor:"pointer",backgroundColor:"#f50057"}},"Calculator ",react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_icons_ai__WEBPACK_IMPORTED_MODULE_9__.a,{size:"1.5em"})),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_6__.a,{style:{backgroundColor:"rgba(0,0,0,0)"},anchor:e,open:state[e],onClose:toggleDrawer(e,!1),onOpen:toggleDrawer(e,!0)},list(e)))})))}},185:function(e,a,t){"use strict";var n=t(43),l=t(44),r=t(48),o=t(46),c=t(0),i=t.n(c),s=function(e){Object(r.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props.result;return i.a.createElement("div",{className:"result"},i.a.createElement("p",null,e))}}]),t}(c.Component);a.a=s},186:function(e,a,t){"use strict";var n=t(43),l=t(44),r=t(48),o=t(46),c=t(0),i=t.n(c),s=function(e){Object(r.a)(t,e);var a=Object(o.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"button"},i.a.createElement("button",{name:"(",onClick:function(a){return e.props.onClick(a.target.name)}},"("),i.a.createElement("button",{name:"CE",onClick:function(a){return e.props.onClick(a.target.name)}},"\u232b"),i.a.createElement("button",{name:")",onClick:function(a){return e.props.onClick(a.target.name)}},")"),i.a.createElement("button",{name:"C",onClick:function(a){return e.props.onClick(a.target.name)}},"C"),i.a.createElement("br",null),i.a.createElement("button",{name:"1",onClick:function(a){return e.props.onClick(a.target.name)}},"1"),i.a.createElement("button",{name:"2",onClick:function(a){return e.props.onClick(a.target.name)}},"2"),i.a.createElement("button",{name:"3",onClick:function(a){return e.props.onClick(a.target.name)}},"3"),i.a.createElement("button",{name:"+",onClick:function(a){return e.props.onClick(a.target.name)}},"+"),i.a.createElement("br",null),i.a.createElement("button",{name:"4",onClick:function(a){return e.props.onClick(a.target.name)}},"4"),i.a.createElement("button",{name:"5",onClick:function(a){return e.props.onClick(a.target.name)}},"5"),i.a.createElement("button",{name:"6",onClick:function(a){return e.props.onClick(a.target.name)}},"6"),i.a.createElement("button",{name:"-",onClick:function(a){return e.props.onClick(a.target.name)}},"-"),i.a.createElement("br",null),i.a.createElement("button",{name:"7",onClick:function(a){return e.props.onClick(a.target.name)}},"7"),i.a.createElement("button",{name:"8",onClick:function(a){return e.props.onClick(a.target.name)}},"8"),i.a.createElement("button",{name:"9",onClick:function(a){return e.props.onClick(a.target.name)}},"9"),i.a.createElement("button",{name:"*",onClick:function(a){return e.props.onClick(a.target.name)}},"x"),i.a.createElement("br",null),i.a.createElement("button",{name:".",onClick:function(a){return e.props.onClick(a.target.name)}},"."),i.a.createElement("button",{name:"0",onClick:function(a){return e.props.onClick(a.target.name)}},"0"),i.a.createElement("button",{name:"=",onClick:function(a){return e.props.onClick(a.target.name)}},"="),i.a.createElement("button",{name:"/",onClick:function(a){return e.props.onClick(a.target.name)}},"\xf7"),i.a.createElement("br",null))}}]),t}(c.Component);a.a=s},218:function(e,a,t){e.exports=t(283)},223:function(e,a,t){},225:function(e,a,t){},283:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(15),o=t.n(r),c=(t(223),t(20)),i=t.n(c),s=t(35),m=t(43),u=t(44),p=t(61),d=t(48),g=t(46),E=(t(225),t(14)),f=t.n(E),_=t(191),h=t(75),b=t(9),v=t(366),y=t(336),C=t(364),S=t(340),x=t(339),D=t(341),O=t(354),j=t(89),k=t.n(j),T=t(98),w=t(284),P=t(367),A=t(81),N=t(93),L=t(7),I=t(52),W=t(326),M=t(324),R=t(327),B=t(175),U=t.n(B),G=t(176),F=t.n(G),z=t(177),K=t.n(z),Y=t(174),q=t.n(Y),H=t(334),V=t(119),$=t.n(V),J=t(118),X=t.n(J),Q=t(117),Z=t.n(Q),ee=t(329),ae=t(331),te=t(332),ne=t(333),le=t(335),re=t(328),oe=t(330),ce=t(179),ie=t.n(ce),se=t(361),me=(t(166),localStorage.getItem("userRole")),ue=Object(w.a)({list:{width:250},fullList:{width:"auto"}});function pe(){var e,a=ue(),t=l.a.useState({left:!1}),n=Object(b.a)(t,2),r=n[0],o=n[1],c=l.a.useState(!1),i=Object(b.a)(c,2),s=i[0],m=i[1],u=function(){m(!s)},p=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(N.a)(Object(N.a)({},r),{},Object(A.a)({},e,a)))}},d=function(){localStorage.removeItem("LoginToken"),window.location.href="http://expenses.propstory.com/"};return l.a.createElement("div",null,l.a.createElement(l.a.Fragment,{key:"left"},l.a.createElement(se.a,{bg:"light",expand:"lg"},l.a.createElement(y.a,{className:"Button",onClick:p("left",!0)},l.a.createElement(ie.a,{fontSize:"large"})),l.a.createElement(se.a.Brand,{href:"#home"},l.a.createElement(T.a,{component:"h2",variant:"p"},"Propstory"))),l.a.createElement(I.a,{anchor:"left",open:r.left,onClose:p("left",!1)},(e="left",l.a.createElement("div",{className:Object(L.a)(a.list,Object(A.a)({},a.fullList,"top"===e||"bottom"===e)),role:"presentation",onKeyDown:p(e,!1)},l.a.createElement(M.a,null),l.a.createElement(W.a,null,"PSADMIN"==me?l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:"/addexpense"},l.a.createElement(R.a,{button:!0,key:"AddExpense"},l.a.createElement(re.a,null,l.a.createElement(ee.a,null)),l.a.createElement(oe.a,{primary:"Add Expense"}))),l.a.createElement("a",{href:"/addproject"},l.a.createElement(R.a,{button:!0,key:"AddProject"},l.a.createElement(re.a,null,l.a.createElement(ae.a,null)),l.a.createElement(oe.a,{primary:"Add Project"}))),l.a.createElement("a",{href:"/add_campaign_name"},l.a.createElement(R.a,{button:!0,key:"AddCampaignName"},l.a.createElement(re.a,null,l.a.createElement(Z.a,null)),l.a.createElement(oe.a,{primary:"Add Campaign Name"}))),l.a.createElement("a",{href:"/addcity"},l.a.createElement(R.a,{button:!0,key:"AddCity"},l.a.createElement(re.a,null,l.a.createElement(te.a,null)),l.a.createElement(oe.a,{primary:"Add City"}))),l.a.createElement("a",{href:"/addcompany"},l.a.createElement(R.a,{button:!0,key:"AddCompany"},l.a.createElement(re.a,null,l.a.createElement(ne.a,null)),l.a.createElement(oe.a,{primary:"Add Company"}))),l.a.createElement(M.a,null),l.a.createElement("a",{href:"/manageusers"},l.a.createElement(R.a,{button:!0,key:"ManageUsers"},l.a.createElement(re.a,null,l.a.createElement(X.a,null)),l.a.createElement(oe.a,{primary:"Manage Users"}))),l.a.createElement(R.a,{button:!0,onClick:u,key:"ViewAutomatedExpense"},l.a.createElement(re.a,null,l.a.createElement(q.a,null)),l.a.createElement(oe.a,{primary:"View Automated Expense"}),s?l.a.createElement(U.a,null):l.a.createElement(F.a,null)),l.a.createElement(H.a,{in:s,timeout:"auto",unmountOnExit:!0},l.a.createElement(W.a,{component:"div",disablePadding:!0},l.a.createElement("a",{href:"/automated_expense/facebook"},l.a.createElement(R.a,{button:!0,className:a.nested},l.a.createElement(re.a,null,l.a.createElement($.a,null)),l.a.createElement(oe.a,{primary:"Facebook"}))),l.a.createElement(R.a,{button:!0,className:a.nested},l.a.createElement(re.a,null,l.a.createElement(K.a,null)),l.a.createElement(oe.a,{primary:"Taboola"}))))):null,l.a.createElement("a",{href:"/viewexpense"},l.a.createElement(R.a,{button:!0,key:"ViewExpense"},l.a.createElement(re.a,null,l.a.createElement(le.a,null)),l.a.createElement(oe.a,{primary:"View Expense"})))),l.a.createElement("div",{className:"logoutButton",onClick:d},l.a.createElement("h4",{style:{color:"#fff"}},"Logout")))))))}var de=t(365),ge=t(359),Ee=t(180),fe=t.n(Ee),_e=Object(w.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:60,lineHeight:2}});function he(){_e();return l.a.createElement("div",{className:"d-flex align-items-center justify-content-center pt-5",style:{height:600,flexDirection:"column"}},l.a.createElement("img",{src:fe.a,style:{width:200}}),l.a.createElement("h1",{className:"linknotlogin"},"Your haven't logged in yet. Please Sign in from"),l.a.createElement("a",{href:"http://expenses.propstory.com/users/login",style:{color:"#15eda3",fontSize:60}},"Here"))}var be=localStorage.getItem("LoginToken"),ve=(localStorage.getItem("LoggedinUser"),localStorage.getItem("userCompany"),new Date);"".concat(ve.getMonth()+1,"-").concat(ve.getDate(),"-").concat(ve.getFullYear());function ye(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var Ce=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Se(e){var a=Ce(),t=l.a.useState(e.show),r=Object(b.a)(t,2),o=r[0],c=r[1],i=l.a.useState(""),s=Object(b.a)(i,2),m=s[0],u=s[1],p=l.a.useState([]),d=Object(b.a)(p,2),g=d[0],E=d[1],_=l.a.useState(""),h=Object(b.a)(_,2),x=h[0],j=h[1],w=l.a.useState(""),A=Object(b.a)(w,2),N=A[0],L=A[1],I=l.a.useState(""),W=Object(b.a)(I,2),M=W[0],R=W[1],B=l.a.useState(""),U=Object(b.a)(B,2),G=U[0],F=U[1],z=l.a.useState(""),K=Object(b.a)(z,2),Y=K[0],q=K[1],H=l.a.useState(0),V=Object(b.a)(H,2),$=V[0],J=V[1],X=l.a.useState([]),Q=Object(b.a)(X,2),Z=Q[0],ee=Q[1],ae=function(){J(""==!G&&""==!Y&&G>0?Number(Y/G).toFixed(2):0)};Object(n.useEffect)((function(){e.handleGetCompanies(),e.handleGetProjects()}),[]);var te=l.a.useState(!1),ne=Object(b.a)(te,2),le=ne[0],re=ne[1],oe=function(e,a){"clickaway"!==a&&re(!1)};return Object(n.useEffect)((function(){re(e.alert)}),[e.alert]),Object(n.useEffect)((function(){var e=new Date((new Date).setDate((new Date).getDate()-1));document.getElementById("outlined-spendingDate").valueAsDate=e,f.a.post("http://expenses.propstory.com/campaign/getCampaignNames",{project_id:M}).then((function(e){console.log("*********"),console.log(e.data),E(e.data.campaigns)})).catch((function(e){console.log(e)}))}),[M]),null==be?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement(S.a,{maxWidth:"md"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(k.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1"},"Add Your Daily Expense"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:e.handleExpenseSubmit},l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Company"),l.a.createElement("select",{class:"custom-select",name:"company",id:"company",onChange:function(e){u(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Company"),e.companies&&e.companies.map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Project"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"project",required:!0,value:M,onChange:function(e){R(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Project"),e.projects&&e.projects.filter((function(e){return e.company==m})).map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Type"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"campaignType",value:N,onChange:function(e){L(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Campaign Type"),l.a.createElement("option",{value:"GDN"},"Google - GDN"),l.a.createElement("option",{value:"GSN"},"Google - GSN"),l.a.createElement("option",{value:"Google"},"Google"),l.a.createElement("option",{value:"Facebook Lead Form"},"Facebook Lead Form"),l.a.createElement("option",{value:"Facebook LP"},"Facebook LP"),l.a.createElement("option",{value:"Taboola"},"Taboola"),l.a.createElement("option",{value:"Calls/Chats"},"Calls/Chats"))),l.a.createElement(D.a,{item:!0,xs:12,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Name"),l.a.createElement("select",{className:"custom-select",id:"campaignName",name:"campaignName",value:x,onChange:function(e){var a=g.filter((function(a){return a._id==e.target.value}));j(e.target.value),console.log(a[0]),ee({plannedLeads:a[0].plannedLeads,campaignStartDate:a[0].campaignStartDate,totalBudget:a[0].totalBudget})},style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Campaign Name"),g&&g.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{autoComplete:"actualLeads",name:"actualLeads",variant:"outlined",required:!0,fullWidth:!0,value:G,onChange:function(e){return F(e.target.value)},onBlur:function(){return ae()},id:"actualLeads",label:"Actual Leads",autoFocus:!0,size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{autoComplete:"allocation",name:"allocation",variant:"outlined",required:!0,fullWidth:!0,id:"allocation",label:"Allocation",autoFocus:!0,size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"plannedLeads",label:"Planned Leads",name:"plannedLeads",autoComplete:"plannedLeads",size:"small",onChange:function(e){return ee({plannedLeads:e.target.value})},value:Z.plannedLeads})),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,value:Y,onChange:function(e){return q(e.target.value)},onBlur:function(){return ae()},id:"totalSpending",label:"Total Spending",name:"totalSpending",autoComplete:"totalSpending",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"totalBudget",label:"Total Budget",id:"totalBudget",autoComplete:"totalBudget",size:"small",onChange:function(e){return ee({totalBudget:e.target.value})},value:Z.totalBudget})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"cpl",label:"CPL",id:"cpl",disabled:!0,value:$,autoComplete:"cpl",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"clicks",label:"Clicks",id:"clicks",autoComplete:"clicks",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"impressions",label:"Impressions",id:"impressions",autoComplete:"impressions",size:"small"})),l.a.createElement(D.a,{item:!0,lg:6,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Spending Date"),l.a.createElement(C.a,{required:!0,fullWidth:!0,name:"spendingDate",id:"outlined-spendingDate",type:"date",autoComplete:"spendingDate"})),l.a.createElement(D.a,{item:!0,lg:6,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Campaign Start Date"),l.a.createElement(C.a,{required:!0,fullWidth:!0,name:"campaignStartDate",id:"outlined-campaignStartDate",type:"date",autoComplete:"campaignStartDate",onChange:function(e){return ee({campaignStartDate:e.target.value})},value:Z.campaignStartDate})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Add Expense")),l.a.createElement(D.a,{container:!0,justify:"flex-end"}))),l.a.createElement(O.a,{show:o,onHide:function(){return c(!1)},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},l.a.createElement(O.a.Header,{closeButton:!0},l.a.createElement(O.a.Title,{id:"example-custom-modal-styling-title"},"Custom Modal Styling")),l.a.createElement(O.a.Body,null)),l.a.createElement(de.a,{open:le,autoHideDuration:6e3,onClose:oe},l.a.createElement(ye,{onClose:oe,severity:"success"},"Added your expense successfully"))))}var xe=t(128),De=t.n(xe);function Oe(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var je=localStorage.getItem("LoginToken");var ke=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Te(e){var a=l.a.useState(!1),t=Object(b.a)(a,2),r=t[0],o=t[1],c=function(e,a){"clickaway"!==a&&o(!1)};Object(n.useEffect)((function(){o(e.alert)}),[e.alert]);var i=ke();return null==je?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement(S.a,{maxWidth:"md"},l.a.createElement("div",{className:i.paper},l.a.createElement(v.a,{className:i.avatar},l.a.createElement(De.a,null)),l.a.createElement(T.a,{component:"h1",variant:"p"},"Add Your City"),l.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:e.handleCitySubmit},l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{autoComplete:"city",name:"city",variant:"outlined",required:!0,fullWidth:!0,id:"city",label:"Enter City",autoFocus:!0,size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"region",label:"Enter Region",name:"region",autoComplete:!0,size:"small"})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"ADD CITY"))))),l.a.createElement(de.a,{open:r,autoHideDuration:6e3,onClose:c},l.a.createElement(Oe,{onClose:c,severity:"success"},"Added your city successfully")))}var we=t(129),Pe=t.n(we);function Ae(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var Ne=localStorage.getItem("LoginToken"),Le={headers:{Authorization:"Bearer "+Ne}};var Ie=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function We(e){var a=Ie(),t=l.a.useState(""),r=Object(b.a)(t,2),o=(r[0],r[1]),c=l.a.useState(""),i=Object(b.a)(c,2),s=(i[0],i[1]),m=l.a.useState([]),u=Object(b.a)(m,2),p=u[0],d=u[1];Object(n.useEffect)((function(){e.handleGetCompanies(),f.a.get("http://expenses.propstory.com/api/getCities").then((function(e){console.log(e);var a=e.data.cities;console.log(a),d(a)}),Le).catch((function(e){return console.log(e)}))}),[]);var g=l.a.useState(!1),E=Object(b.a)(g,2),_=E[0],h=E[1],x=function(e,a){"clickaway"!==a&&h(!1)};return Object(n.useEffect)((function(){h(e.alert)}),[e.alert]),null==Ne?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement(S.a,{maxWidth:"md"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(Pe.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1",variant:"p"},"Add Your Project"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:e.handleProjectSubmit},l.a.createElement(D.a,{container:!0,spacing:4},l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"project",label:"Name of the project",id:"totalBudget",autoComplete:"totalBudget",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Company"),l.a.createElement("select",{class:"custom-select",name:"company",id:"company",onChange:function(e){s(e.target.value)},style:{width:"100%"}},e.companies&&e.companies.map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select City"),l.a.createElement("select",{class:"custom-select",name:"city",id:"city",onChange:function(e){o(e.target.value)},style:{width:"100%"}},p.map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Add Project")),l.a.createElement(D.a,{container:!0,justify:"flex-end"})))),l.a.createElement(de.a,{open:_,autoHideDuration:6e3,onClose:x},l.a.createElement(Ae,{onClose:x,severity:"success"},"Added your project successfully")))}function Me(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var Re=localStorage.getItem("LoginToken");var Be=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Ue(e){var a=l.a.useState(!1),t=Object(b.a)(a,2),r=t[0],o=t[1],c=function(e,a){"clickaway"!==a&&o(!1)};Object(n.useEffect)((function(){o(e.alert)}),[e.alert]);var i=Be();return null==Re?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement(S.a,{maxWidth:"md"},l.a.createElement("div",{className:i.paper},l.a.createElement(v.a,{className:i.avatar},l.a.createElement(De.a,null)),l.a.createElement(T.a,{component:"h1",variant:"p"},"Add Your Company"),l.a.createElement("form",{className:i.form,noValidate:!0,onSubmit:e.handleCompanySubmit},l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(C.a,{autoComplete:"company",name:"company",variant:"outlined",required:!0,fullWidth:!0,id:"company",label:"Enter Company",autoFocus:!0,size:"small"})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Add Company")),l.a.createElement(D.a,{container:!0,justify:"flex-end"})))),l.a.createElement(de.a,{open:r,autoHideDuration:6e3,onClose:c},l.a.createElement(Me,{onClose:c,severity:"success"},"Added your company successfully")))}var Ge=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),n.setState({email:a.target.email.value,password:a.target.password.value}),console.log(n.state);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={email:"",password:""},n}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"banner-area banner-3"},l.a.createElement("div",{class:"overlay dark-overlay"}),l.a.createElement("div",{class:"d-table"},l.a.createElement("div",{class:"d-table-cell"},l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-lg-8 m-auto text-center col-sm-12 col-md-12"},l.a.createElement("div",{class:"banner-content content-padding"},l.a.createElement("h1",{class:"subtitle"},"PROPSTORY"),l.a.createElement("h1",{class:"banner-title"},"Propstory Expense Tracker"),l.a.createElement("p",null,"We are a leading digital marketing services company focused on the vast Real Estate sector. Our long standing clients include top developers in the country"),l.a.createElement("a",{href:"/users/login",class:"btn btn-white btn-circled"},"lets login")))))))))}}]),t}(n.PureComponent),Fe=t(345),ze=t(346),Ke=t(363),Ye=t(355);function qe(){return l.a.createElement(T.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(x.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var He=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ve(e){var a=He();return l.a.createElement(S.a,{component:"main",maxWidth:"xs"},l.a.createElement(Fe.a,null),l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(k.a,null)),l.a.createElement(T.a,{component:"h1",variant:"p"},"Sign in"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:e.handleLoginSubmit},l.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),l.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),l.a.createElement(ze.a,{control:l.a.createElement(Ke.a,{value:"remember",color:"primary"}),label:"Remember me"}),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),l.a.createElement(D.a,{container:!0},l.a.createElement(D.a,{item:!0,xs:!0},l.a.createElement(x.a,{href:"#",variant:"body2"},"Forgot password?")),l.a.createElement(D.a,{item:!0},l.a.createElement(x.a,{href:"/users/register",variant:"body2"},"Don't have an account? Sign Up"))))),l.a.createElement(Ye.a,{mt:8},l.a.createElement(qe,null)))}var $e={headers:{Authorization:"Bearer "+localStorage.getItem("LoginToken")}};function Je(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}function Xe(){return l.a.createElement(T.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",l.a.createElement(x.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Qe=Object(w.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ze(e){var a=Qe(),t=l.a.useState(""),r=Object(b.a)(t,2),o=(r[0],r[1]),c=l.a.useState(!1),i=Object(b.a)(c,2),s=i[0],m=i[1],u=l.a.useState([]),p=Object(b.a)(u,2),d=p[0],g=p[1],E=function(e,a){"clickaway"!==a&&m(!1)};return Object(n.useEffect)((function(){f.a.get("http://expenses.propstory.com/api/getCompanies").then((function(e){console.log(e);var a=e.data.companies;console.log(a),g(a)}),$e).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){m(e.alert)}),[e.alert]),l.a.createElement(S.a,{component:"main",maxWidth:"xs"},l.a.createElement(Fe.a,null),l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(k.a,null)),l.a.createElement(T.a,{component:"h1",variant:"p"},"Sign up"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:e.handleRegisterSubmit},l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12,sm:12},l.a.createElement(C.a,{autoComplete:"fname",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,size:"small"})),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",type:"email",autoComplete:"email",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Company"),l.a.createElement("select",{class:"custom-select",name:"company",id:"company",onChange:function(e){o(e.target.value)},style:{width:"100%"}},d&&d.map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",autoComplete:"current-password"})),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(ze.a,{control:l.a.createElement(Ke.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign Up"),l.a.createElement(D.a,{container:!0,justify:"flex-end"},l.a.createElement(D.a,{item:!0},l.a.createElement(x.a,{href:"/users/login",variant:"body2"},"Already have an account? Sign in"))))),l.a.createElement(Ye.a,{mt:5},l.a.createElement(Xe,null)),l.a.createElement(de.a,{open:s,autoHideDuration:6e3,onClose:E},l.a.createElement(Je,{onClose:E,severity:"success"},"You have been successfully registered. Please Contact Admin to Activate Your Profile.")))}var ea=t(362),aa=t(356),ta=(n.PureComponent,function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={},n}return Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("h1",null,"from footer")}}]),t}(n.PureComponent)),na=t(337),la=t(348),ra=t(352),oa=t(351),ca=t(347),ia=t(349),sa=t(360),ma=t(350),ua=t(182),pa=t.n(ua),da=t(183),ga=t.n(da),Ea=localStorage.getItem("userRole"),fa=[{id:"ID",label:"ID",display:"none"},{id:"SPENT_ON",label:"SPENT ON",minWidth:100,align:"center"},{id:"CAMPAIGN_TYPE",label:"CAMPAIGN TYPE",minWidth:100},{id:"ACTUAL_LEADS",label:"ACTUAL LEADS",minWidth:100,align:"center"},{id:"ALLOCATIONS",label:"ALLOCATIONS",minWidth:100,align:"center",edit:!0,onchange:{updateAllocation:function(){console.log("data")}}},{id:"CPL",label:"CPL",minWidth:50,align:"center"},{id:"CLICK",label:"CLICK",minWidth:50,align:"center"},{id:"IMPRESSIONS",label:"IMPRESSIONS",minWidth:50,align:"center"},{id:"TOTAL_SPENDING",label:"TOTAL SPENDING",minWidth:100,align:"center"},{id:"TOTAL_BUDGET",label:"TOTAL BUDGET",hidden:!0},{id:"CAMPAIGN_START_DATE",label:"CAMPAIGN START DATE",hidden:!0}];var _a=Object(w.a)({root:{width:"100%"},container:{maxHeight:440}});function ha(e){var a=_a(),t=l.a.useState(0),n=Object(b.a)(t,2),r=n[0],o=n[1],c=l.a.useState(10),i=Object(b.a)(c,2),s=i[0],m=i[1],u=0,p=0,d=0,g=0,E=0,f=e.result&&e.result.map((function(e){return u+=e.actualLeads,p+=e.clicks,d+=e.impressions,g+=e.totalSpending,E+=e.allocation,console.log(e),a=e._id,t=e.spendingDate,n=e.campaignType,l=e.actualLeads,r=e.allocation,o=e.cpl,c=e.clicks,i=e.impressions,s=parseInt(e.totalSpending),m=e.totalBudget,f=e.campaignStartDate,{ID:a,SPENT_ON:t,CAMPAIGN_TYPE:n,ACTUAL_LEADS:l,ALLOCATIONS:r,CPL:o,CLICK:c,IMPRESSIONS:i,TOTAL_SPENDING:s,TOTAL_BUDGET:m,CAMPAIGN_START_DATE:f};var a,t,n,l,r,o,c,i,s,m,f}));return l.a.createElement(na.a,{className:a.root},l.a.createElement(ca.a,{className:a.container},l.a.createElement(la.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(ia.a,null,l.a.createElement(ma.a,null,fa.map((function(e){return l.a.createElement(oa.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,display:e.display},hidden:e.hidden},e.label)})),l.a.createElement(oa.a,{align:"center",rowSpan:2,colSpan:3},"ACTIONS"))),l.a.createElement(ia.a,null,l.a.createElement(ma.a,null,l.a.createElement(oa.a,{align:"center",colSpan:2},l.a.createElement("h5",null,"TOTAL")),l.a.createElement(oa.a,{align:"right"},l.a.createElement("h6",null,"ACTUAL LEADS: ",u," ")),l.a.createElement(oa.a,{align:"center"},l.a.createElement("h6",null,"ALLOCATIONS: ",E," ")),l.a.createElement(oa.a,{align:"center"},l.a.createElement("h6",null,"CPL: ",Number(g/u).toFixed(2))),l.a.createElement(oa.a,{align:"center"},l.a.createElement("h6",null,"CLICKS: ",p)),l.a.createElement(oa.a,{align:"center"},l.a.createElement("h6",null,"IMPRESSIONS: ",d)),l.a.createElement(oa.a,{colSpan:4,align:"left"},l.a.createElement("h6",null,"TOTAL SPENDING: ",parseFloat(g).toFixed(2))))),l.a.createElement(ra.a,null,f.slice(r*s,r*s+s).map((function(a){return l.a.createElement(ma.a,{hover:!0,role:"checkbox",tabIndex:-1,key:a.code},fa.map((function(e){var t=a[e.id];return l.a.createElement(oa.a,{style:{display:e.display},key:e.id,align:e.align,hidden:e.hidden},e.format&&"number"===typeof t?e.format(t):t)})),l.a.createElement(oa.a,{onClick:function(){return e.onEditAllocation(a)},style:{backgroundColor:"#3797a4",fontWeight:600,fontSize:10,color:"#fff",width:30,cursor:"pointer",textAlign:"center"}},"Update Allocation"),"PSADMIN"==Ea?l.a.createElement(l.a.Fragment,null,l.a.createElement(oa.a,{onClick:function(){return e.onPressEdit(a)},style:{backgroundColor:"#50d890",fontWeight:600,color:"#fff",cursor:"pointer",width:10}},l.a.createElement(pa.a,null)),l.a.createElement(oa.a,{onClick:function(){return e.onPressDelete(a.ID)},style:{backgroundColor:"#fe346e",fontWeight:600,color:"#fff",cursor:"pointer",width:10}},l.a.createElement(ga.a,null))):null)}))))),l.a.createElement(sa.a,{rowsPerPageOptions:[10,25,100],component:"div",count:f.length,rowsPerPage:s,page:r,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))}var ba=t(184),va=(t(250),t(251),t(30)),ya=t(187),Ca=t(84),Sa=t.n(Ca),xa=t(188),Da=t.n(xa),Oa=t(189),ja=t.n(Oa),ka=t(194);function Ta(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var wa=localStorage.getItem("LoginToken"),Pa=(localStorage.getItem("userRole"),{headers:{Authorization:"Bearer "+wa}}),Aa=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Na(e){var a=Aa(),t=l.a.useState(""),r=Object(b.a)(t,2),o=r[0],c=r[1],m=l.a.useState([]),u=Object(b.a)(m,2),p=u[0],d=u[1],g=l.a.useState(!1),E=Object(b.a)(g,2),_=E[0],h=E[1],x=l.a.useState([]),j=Object(b.a)(x,2),k=j[0],w=j[1],A=l.a.useState(""),N=Object(b.a)(A,2),L=(N[0],N[1],l.a.useState(!1)),I=Object(b.a)(L,2),W=I[0],M=I[1],R=l.a.useState(""),B=Object(b.a)(R,2),U=B[0],G=B[1],F=l.a.useState(!1),z=Object(b.a)(F,2),K=z[0],Y=z[1],q=l.a.useState(!1),H=Object(b.a)(q,2),V=H[0],$=H[1],J=l.a.useState(!1),X=Object(b.a)(J,2),Q=X[0],Z=X[1],ee=l.a.useState(!1),ae=Object(b.a)(ee,2),te=ae[0],ne=ae[1],le=l.a.useState(""),re=Object(b.a)(le,2),oe=re[0],ce=re[1],ie=l.a.useState(!1),se=Object(b.a)(ie,2),me=se[0],ue=se[1],ge=l.a.useState([]),Ee=Object(b.a)(ge,2),fe=Ee[0],_e=Ee[1],be=l.a.useState(""),ve=Object(b.a)(be,2),ye=ve[0],Ce=ve[1],Se=l.a.useState([{startDate:new Date,endDate:Object(va.a)(new Date,7),key:"selection"}]),xe=Object(b.a)(Se,2),De=xe[0],Oe=xe[1],je=function(e){ce(e.target.value)},ke=function(e,a){"clickaway"!==a&&$(!1)},Te=function(e){Ce(e.target.value)};Object(n.useEffect)((function(){e.handleGetProjects()}),[]);var we=function(e){c(e.target.value)};function Ae(){return(Ae=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),G(a),M(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(){return(Ne=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://expenses.propstory.com/expenses/delete",{_id:U},Pa).then(function(){var e=Object(s.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("DELETED SUCCESSFULLY"),console.log(a),Z(!0),t=Sa()(De[0].startDate).format("YYYY-MM-DD"),n=Sa()(De[0].endDate).format("YYYY-MM-DD"),ne(!0),ue(!1),M(!1),f.a.post("http://expenses.propstory.com/project/projectData",{project:o,startDate:t,endDate:n,campaignType:oe,campaign:ye}).then((function(e){console.log(e);var a=e.data.spendings;d(a),ne(!1)})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,f.a.post("http://expenses.propstory.com/expenses/updateAllocation",{expense_id:a.target.expenseid.value,allocation:a.target.allocation.value}).then($(!0),Y(!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){f.a.post("http://expenses.propstory.com/campaign/getCampaignNames",{project_id:o}).then((function(e){console.log(e.data),_e(e.data.campaigns)})).catch((function(e){console.log(e)}))}),[o]);k.TOTAL_SPENDING,k.ACTUAL_LEADS;return null==wa?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement("div",null,l.a.createElement(ba.a,null),l.a.createElement(y.a,{onClick:function(){return function(){var e=Sa()(De[0].startDate).format("YYYY-MM-DD"),a=Sa()(De[0].endDate).format("YYYY-MM-DD"),t=[];p.map((function(e){return console.log(e),t.push({"Campaign Type":e.campaignType,"Actual Leads":e.actualLeads,Allocation:e.allocation,"Total Budget":e.totalBudget,"Total Spending":e.totalSpending,CPL:e.cpl,Clicks:e.clicks,Impressions:e.impressions,"Spending Date":e.spendingDate,"Campaign Start Date":e.campaignStartDate})}));var n=t,l=oe+" Expense "+e+" "+a;Object(ka.a)({data:n,fileName:l,exportType:"csv"})}()},variant:"contained",color:"secondary",startIcon:l.a.createElement(ja.a,null),style:{position:"fixed",right:20,bottom:20,fontWeight:600}}," ",l.a.createElement(T.a,{component:"h6",variant:"subtitle",style:{textTransform:"none",color:"#fff"}},"Download as csv")),l.a.createElement(S.a,{maxWidth:"lg"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(Pe.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1",variant:"subtitle"},"View Your Project Expenses"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){e.preventDefault();var a=Sa()(De[0].startDate).format("YYYY-MM-DD"),t=Sa()(De[0].endDate).format("YYYY-MM-DD");ne(!0),ue(!1),f.a.post("http://expenses.propstory.com/project/projectData",{project:e.target.project.value,startDate:a,endDate:t,campaignType:e.target.campaignType.value,campaign:e.target.campaignName.value}).then((function(e){console.log(e);var a=e.data.spendings;d(a),ne(!1)})).catch((function(e){console.log(e)}))}},l.a.createElement(D.a,{container:!0,justify:"center",spacing:2,className:"mb-5"},l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Project"),l.a.createElement("select",{class:"custom-select",id:"projectSelect",name:"project",value:o,onChange:we,style:{width:"100%"}},e.projects&&e.projects.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:10,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Type"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"campaignType",value:oe,onChange:je,style:{width:"100%"}},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:"GDN"},"Google - GDN"),l.a.createElement("option",{value:"GSN"},"Google - GSN"),l.a.createElement("option",{value:"Google"},"Google"),l.a.createElement("option",{value:"Facebook Lead Form"},"Facebook Lead Form"),l.a.createElement("option",{value:"Facebook LP"},"Facebook LP"),l.a.createElement("option",{value:"Taboola"},"Taboola"),l.a.createElement("option",{value:"Calls/Chats"},"Calls/Chats")))),l.a.createElement(D.a,{container:!0,justify:"center",spacing:2},l.a.createElement(D.a,{item:!0,xs:10,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Date"),l.a.createElement("input",{placeholder:"Date",style:{width:"100%",height:35,border:"1px solid #ced4da",borderRadius:"0.25rem",padding:".375rem 1.75rem .375rem .75rem"},onClick:function(){return ue(!0)}})),l.a.createElement(D.a,{item:!0,xs:12,sm:1},l.a.createElement(T.a,{style:{textAlign:"center",marginTop:20},component:"h4",variant:"subtitle"},"OR")),l.a.createElement(D.a,{item:!0,xs:10,sm:3},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Name"),l.a.createElement("select",{className:"custom-select",id:"campaignName",name:"campaignName",required:!0,value:ye,onChange:Te,style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Campaign Name"),fe&&fe.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),me&&l.a.createElement(D.a,{container:!0,direction:"row",justify:"center",xs:12},l.a.createElement(ya.DateRangePicker,{onChange:function(e){return Oe([e.selection])},moveRangeOnFirstSelection:!1,months:2,ranges:De,direction:"horizontal"}))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"View Expense")))),l.a.createElement(S.a,{maxWidth:"lg"},te?l.a.createElement(Da.a,{type:"TailSpin",color:"rgb(245, 0, 87)",height:50,width:50}):p.length>0?l.a.createElement(ha,{onPressEdit:function(e){h(!0),console.log(e),w(e)},onPressDelete:function(e){return Ae.apply(this,arguments)},onEditAllocation:function(e){Y(!0),console.log(e),w(e)},result:p}):null),l.a.createElement(O.a,{show:_,onHide:function(){return h(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(O.a.Header,{closeButton:!0},l.a.createElement(O.a.Title,{id:"contained-modal-title-vcenter"},"EDIT SPENDINGS")),l.a.createElement(O.a.Body,null,l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:e.handleUpdateExpense},l.a.createElement(C.a,{name:"expenseid",hidden:!0,value:k.ID}),l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Project"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"project",value:o,onChange:we,style:{width:"100%"}},e.projects&&e.projects.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Type"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"campaignType",value:oe,onChange:je,style:{width:"100%"}},l.a.createElement("option",{value:"GDN"},"Google - GDN"),l.a.createElement("option",{value:"GSN"},"Google - GSN"),l.a.createElement("option",{value:"Google"},"Google"),l.a.createElement("option",{value:"Facebook Lead Form"},"Facebook Lead Form"),l.a.createElement("option",{value:"Facebook LP"},"Facebook LP"),l.a.createElement("option",{value:"Taboola"},"Taboola"),l.a.createElement("option",{value:"Calls/Chats"},"Calls/Chats"))),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign Name"),l.a.createElement("select",{className:"custom-select",id:"campaignName",name:"campaignName",value:ye,onChange:Te,style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"Select Campaign Name"),fe&&fe.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{autoComplete:"actualLeads",name:"actualLeads",variant:"outlined",fullWidth:!0,id:"actualLeads",label:"Actual Leads",value:k.ACTUAL_LEADS,onChange:function(e){w({ACTUAL_LEADS:e.target.value})},autoFocus:!0,size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,name:"clicks",label:"Clicks",value:k.CLICK,onChange:function(e){return w({CLICK:e.target.value})},id:"clicks",autoComplete:"clicks",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,name:"impressions",label:"Impressions",value:k.IMPRESSIONS,onChange:function(e){return w({IMPRESSIONS:e.target.value})},id:"impressions",autoComplete:"impressions",size:"small"})),l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,hidden:!0,id:"plannedLeads",label:"Planned Leads",value:k.PLANNED_LEADS,onChange:function(e){return w({PLANNED_LEADS:e.target.value})},name:"plannedLeads",autoComplete:"plannedLeads",size:"small"}),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,id:"totalSpending",label:"Total Spending",value:k.TOTAL_SPENDING,onChange:function(e){return w({TOTAL_SPENDING:parseInt(e.target.value)})},name:"totalSpending",autoComplete:"totalSpending",size:"small"})),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,name:"totalBudget",label:"Total Budget",value:k.TOTAL_BUDGET,onChange:function(e){return w({TOTAL_BUDGET:e.target.value})},id:"totalBudget",autoComplete:"totalBudget",size:"small"})),l.a.createElement(C.a,{variant:"outlined",fullWidth:!0,name:"cpl",hidden:!0,label:"CPL",placeholder:"will be calculated after updation",value:parseFloat(k.CPL),id:"cpl",autoComplete:"cpl",size:"small"}),l.a.createElement(D.a,{item:!0,lg:6,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Spending Date"),l.a.createElement(C.a,{fullWidth:!0,name:"spendingDate",id:"outlined-spendingDate",type:"date",autoComplete:"spendingDate",onChange:function(e){return w({SPENT_ON:e.target.value})},value:k.SPENT_ON})),l.a.createElement(D.a,{item:!0,lg:6,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Campaign Start Date"),l.a.createElement(C.a,{fullWidth:!0,name:"campaignStartDate",id:"outlined-campaignStartDate",type:"date",autoComplete:"campaignStartDate",onChange:function(e){return w({CAMPAIGN_START_DATE:e.target.value})},value:k.CAMPAIGN_START_DATE})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update Expense")),l.a.createElement(D.a,{container:!0,justify:"flex-end"})))),l.a.createElement(O.a,{show:K,onHide:function(){return Y(!1)},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(O.a.Header,{closeButton:!0},l.a.createElement(O.a.Title,{id:"contained-modal-title-vcenter"},"UPDATE ALLOCATION")),l.a.createElement(O.a.Body,null,l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){return Le.apply(this,arguments)}},l.a.createElement(C.a,{name:"expenseid",hidden:!0,value:k.ID}),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(C.a,{variant:"standard",fullWidth:!0,id:"allocation",label:"Allocation "+k.ALLOCATIONS,name:"allocation",autoComplete:"allocation",size:"small"})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update Allocation"))))),l.a.createElement(O.a,{show:W,centered:!0,animation:!1},l.a.createElement(O.a.Header,null,l.a.createElement(O.a.Title,null,"Are you sure you want to delete?")),l.a.createElement(O.a.Footer,null,l.a.createElement(y.a,{variant:"secondary",onClick:function(){return M(!1)}},"CANCEL"),l.a.createElement(y.a,{variant:"contained",color:"secondary",onClick:function(){return Ne.apply(this,arguments)}},"YES! DELETE"))),l.a.createElement(de.a,{open:V,autoHideDuration:2e3,onClose:ke},l.a.createElement(Ta,{onClose:ke,severity:"info"},"Allocation has been updated!")),l.a.createElement(de.a,{open:Q,autoHideDuration:2e3,onClose:function(e,a){"clickaway"!==a&&Z(!1)}},l.a.createElement(Ta,{onClose:ke,severity:"success"},"Selected expense has been deleted successfully!"))))}localStorage.getItem("userRole");var La=[{id:"ID",label:"ID",display:"none"},{id:"CAMPAIGN_NAME",label:"CAMPAIGN NAME",minWidth:120},{id:"CLICKS",label:"CLICKS",minWidth:50,align:"center"},{id:"CPC",label:"CPC",minWidth:50,align:"center"},{id:"CPM",label:"CPM",minWidth:50,align:"center"},{id:"CPP",label:"CPP",minWidth:50,align:"center"},{id:"CTR",label:"CTR",minWidth:50,align:"center"},{id:"IMPRESSIONS",label:"IMPRESSIONS",minWidth:50,align:"center"},{id:"REACH",label:"REACH",minWidth:50,align:"center"},{id:"CAMPAIGN_START_DATE",label:"CAMPAIGN START DATE",minWidth:100,align:"center"}];var Ia=Object(w.a)({root:{width:"100%"},container:{maxHeight:580}});function Wa(e){var a=Ia(),t=l.a.useState(0),n=Object(b.a)(t,2),r=n[0],o=n[1],c=l.a.useState(10),i=Object(b.a)(c,2),s=i[0],m=i[1],u=e.data&&e.data.map((function(e){return a=e._id,t=e.campaign_name,n=e.clicks,l=Number(e.cpc).toFixed(2),r=Number(e.cpm).toFixed(2),o=Number(e.cpp).toFixed(2),c=Number(e.ctr).toFixed(2),i=e.impressions,s=e.reach,m=e.date_start.slice(0,10),{ID:a,CAMPAIGN_NAME:t,CLICKS:n,CPC:l,CPM:r,CPP:o,CTR:c,IMPRESSIONS:i,REACH:s,CAMPAIGN_START_DATE:m};var a,t,n,l,r,o,c,i,s,m}));return l.a.createElement(na.a,{className:a.root},l.a.createElement(ca.a,{className:a.container},l.a.createElement(la.a,{stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(ia.a,null,l.a.createElement(ma.a,null,La.map((function(e){return l.a.createElement(oa.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,display:e.display}},e.label)})))),l.a.createElement(ra.a,null,u.slice(r*s,r*s+s).map((function(e){return l.a.createElement(ma.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},La.map((function(a){var t=e[a.id];return l.a.createElement(oa.a,{style:{display:a.display},key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))}))))),l.a.createElement(sa.a,{rowsPerPageOptions:[10,25,100],component:"div",count:u.length,rowsPerPage:s,page:r,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){m(+e.target.value),o(0)}}))}var Ma=localStorage.getItem("LoginToken"),Ra=(localStorage.getItem("userRole"),{headers:{Authorization:"Bearer "+Ma}}),Ba=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"}}}));function Ua(e){var a=Ba(),t=l.a.useState([]),r=Object(b.a)(t,2),o=r[0],c=r[1],i=l.a.useState(null),s=Object(b.a)(i,2),m=s[0],u=s[1],p=l.a.useState([]),d=Object(b.a)(p,2),g=d[0],E=d[1];Object(n.useEffect)((function(){_()}),[]);var _=function(){f.a.get("http://expenses.propstory.com/campaign/facebook",Ra).then((function(e){E(e.data.campaign)})).catch((function(e){console.log(e)}))};return null==Ma?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),console.log(m),l.a.createElement("div",null,l.a.createElement(S.a,{maxWidth:"lg"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement($.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1",variant:"subtitle"},"Facebook Automated Expenses")),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),f.a.post("http://expenses.propstory.com/expenses/getAutomateExpenses",{campaign_id:m,start_date:e.target.start_date.value,end_date:e.target.end_date.value,source:"facebook"}).then((function(e){console.log(e);var a=e.data;c(a)})).catch((function(e){console.log(e)}))}},l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Campaign"),l.a.createElement("select",{class:"custom-select",id:"campaign",name:"campaign",value:m,onChange:function(e){u(e.target.value)},style:{width:"100%"}},g&&g.map((function(e){return l.a.createElement("option",{key:e.campaign_id,value:e.campaign_id},e.campaign_name)})))),l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Enter Start Date"),l.a.createElement(C.a,{fullWidth:!0,name:"start_date",id:"outlined-spendingDate",type:"date",autoComplete:"spendingDate"})),l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Enter End Date"),l.a.createElement(C.a,{fullWidth:!0,name:"end_date",id:"outlined-campaignStartDate",type:"date",autoComplete:"campaignStartDate"}))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"View Facebook Expense"))),l.a.createElement(S.a,{maxWidth:"lg"},l.a.createElement(Wa,{data:o}))))}var Ga=t(8),Fa=t(190),za=t.n(Fa),Ka=t(368),Ya=t(353),qa=t(287),Ha=t(137),Va=t(138),$a=localStorage.getItem("LoginToken"),Ja=(localStorage.getItem("LoggedinUser"),{headers:{Authorization:"Bearer "+$a}}),Xa=Object(w.a)((function(e){return{root:{width:"100%"},container:{maxHeight:580},chip:{margin:e.spacing(.5)},rootarray:{display:"flex",justifyContent:"start",flexWrap:"wrap",listStyle:"none",margin:0,boxShadow:"none"}}})),Qa=function(e){var a=e.user,t=Xa(),r=l.a.useState([]),o=Object(b.a)(r,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){f.a.post("http://expenses.propstory.com/project/getProjects",{user_id:a._id,company_id:a.company},Ja).then((function(e){console.log(e),i(e.data.projects)}))}),[]),l.a.createElement(na.a,{component:"ul",className:t.rootarray},c&&c.map((function(e){return l.a.createElement("li",{key:e._id},l.a.createElement(Ka.a,{label:e.name,className:t.chip,size:"small",color:"primary"}))})))},Za=Object(Ga.a)({switchBase:{color:Ha.a[600],"&$checked":{color:Va.a[700]},"&$checked + $track":{backgroundColor:Va.a[700]}},checked:{},track:{}})(Ya.a);function et(e){var a=Xa(),t=l.a.useState(""),n=Object(b.a)(t,2),r=(n[0],n[1],l.a.useState()),o=Object(b.a)(r,2),c=(o[0],o[1],e.result&&e.result.map((function(e){return l.a.createElement(Ka.a,{label:e.name,size:"small",color:"primary",style:{marginRight:5}})})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(na.a,{className:a.root},e.users&&e.users.map((function(a){return l.a.createElement("div",{className:"d-flex justify-content-between p-2 border-bottom"},l.a.createElement(D.a,{item:!0,xs:2},l.a.createElement("h5",{style:{textTransform:"uppercase"}},a.name)),l.a.createElement(D.a,{item:!0,xs:1},l.a.createElement(Ka.a,{label:a.role,size:"small",variant:"outlined"})),l.a.createElement(D.a,{item:!0,xs:4},"TEAM_MEMBER"==a.role?l.a.createElement(Qa,{user:a}):l.a.createElement("div",{className:"d-flex justify-content-start"},c)),l.a.createElement(D.a,{item:!0},l.a.createElement(ze.a,{control:l.a.createElement(Za,{checked:a.enable,onChange:function(){return function(a){f.a.post("http://expenses.propstory.com/users/changeUserStatus",{user_id:a._id,status:!a.enable}).then((function(a){e.callUserSubmit()}))}(a)},name:"checkedA"}),label:a.enable?"Activated":"Disabled"})),l.a.createElement(D.a,{item:!0,xs:1},"TEAM_MEMBER"==a.role?l.a.createElement(qa.a,{color:"secondary",size:"small",onClick:function(){return e.handleEdit(a)}},l.a.createElement(za.a,{fontSize:"inherit"})):null))}))))}var at=t(338),tt=t(286),nt=t(358),lt=t(135),rt=t.n(lt),ot={headers:{Authorization:"Bearer "+localStorage.getItem("LoginToken")}},ct=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},papermodal:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[10],padding:e.spacing(2,4,3),maxWidth:800,borderRadius:8},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},rootarray:{display:"flex",justifyContent:"start",flexWrap:"wrap",listStyle:"none",margin:0,boxShadow:"none"}}})),it=[],st=function(e){var a=e.user,t=ct();return Object(n.useEffect)((function(){f.a.post("http://expenses.propstory.com/project/getProjects",{user_id:a._id,company_id:a.company},ot).then((function(e){console.log(e);var t={userId:a._id,companies:e.data.projects};it.push(t)}))}),[]),l.a.createElement(na.a,{component:"ul",className:t.rootarray},it&&it.filter((function(e){return e.userId==a._id})).map((function(e){return e.companies.map((function(e){return l.a.createElement("li",{key:e._id},l.a.createElement(Ka.a,{label:e.name,className:t.chip,size:"small",color:"primary"}))}))})))};function mt(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var ut=localStorage.getItem("LoginToken"),pt=localStorage.getItem("LoggedinUser"),dt={headers:{Authorization:"Bearer "+ut}},gt=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},papermodal:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[10],padding:e.spacing(2,4,3),maxWidth:800,borderRadius:8},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},rootarray:{display:"flex",justifyContent:"start",flexWrap:"wrap",listStyle:"none",margin:0,boxShadow:"none"}}}));function Et(e){var a=gt(),t=l.a.useState(""),r=Object(b.a)(t,2),o=r[0],c=r[1],i=l.a.useState([]),s=Object(b.a)(i,2),m=s[0],u=s[1],p=l.a.useState([]),d=Object(b.a)(p,2),g=d[0],E=d[1],_=l.a.useState(!1),h=Object(b.a)(_,2),x=h[0],O=h[1],j=l.a.useState([]),k=Object(b.a)(j,2),w=k[0],A=k[1],N=l.a.useState(null),L=Object(b.a)(N,2),I=L[0],W=L[1],M=l.a.useState(!1),R=Object(b.a)(M,2),B=R[0],U=R[1];Object(n.useEffect)((function(){e.handleGetCompanies()}),[]);var G=function(e,a){"clickaway"!==a&&U(!1)};return null==ut?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement("div",null,l.a.createElement(S.a,{maxWidth:"lg"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(X.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1",variant:"subtitle"},"Manage Users"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),f.a.post("http://expenses.propstory.com/api/getCompanyProjects",{company_id:o}).then((function(e){console.log(e);var a=e.data.companies;u(a)})),f.a.post("http://expenses.propstory.com/users/getCompanyUsers",{company_id:o,user_id:pt},dt).then((function(e){console.log(e),E(e.data.user)}))}},l.a.createElement(D.a,{container:!0,justify:"center",spacing:2},l.a.createElement(D.a,{item:!0,sm:6,xs:12},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Company"),l.a.createElement("select",{class:"custom-select",id:"projectSelect",name:"assignProject",value:o,onChange:function(e){c(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:0,value:0},"-- SELECT COMPANY --"),e.companies&&e.companies.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)}))))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"View Users")))),l.a.createElement(S.a,{maxWidth:"lg"},g.length>0?l.a.createElement(et,{handleEdit:function(e){A(e),O(!0)},users:g,result:m,AssignedProjects:st,callUserSubmit:function(){f.a.post("http://expenses.propstory.com/api/getCompanyProjects",{company_id:o}).then((function(e){console.log(e);var a=e.data.companies;u(a)})),f.a.post("http://expenses.propstory.com/users/getCompanyUsers",{company_id:o,user_id:pt},dt).then((function(e){console.log(e),E(e.data.user)}))}}):null)),l.a.createElement(nt.a,{"aria-labelledby":"Manage-user-modal","aria-describedby":"transition-modal-description",className:a.modal,open:x,onClose:function(){O(!1)},closeAfterTransition:!0,BackdropComponent:at.a,BackdropProps:{timeout:500}},l.a.createElement(tt.a,{in:x},l.a.createElement("div",{className:a.papermodal},l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(){f.a.post("http://expenses.propstory.com/project/assignProject",{user_id:w._id,project_id:I},dt).then((function(e){console.log(e),U(!0),O(!1)}))}},l.a.createElement(C.a,{name:"userid",hidden:!0,value:w._id}),l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"User Name"),l.a.createElement("h4",{style:{textTransform:"uppercase"}},w.name)),l.a.createElement(D.a,{item:!0,xs:12,sm:4},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Account Status"),w.enable?l.a.createElement("div",{className:"d-flex"},l.a.createElement(rt.a,{style:{color:"#94fc13"}}),l.a.createElement("p",null," ACTIVED")):l.a.createElement("div",{className:"d-flex"},l.a.createElement(rt.a,{style:{color:"#fa163f"}}),l.a.createElement("p",null," NOT ACTIVATED"))),l.a.createElement(D.a,{item:!0,xs:12},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Assign New Project"),l.a.createElement("select",{class:"custom-select",id:"companySelect",name:"company",value:I,onChange:function(e){W(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:0,value:0},"-- SELECT PROJECT --"),m&&m.map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update User")),l.a.createElement(D.a,{container:!0,justify:"flex-end"}))))),l.a.createElement(de.a,{open:B,autoHideDuration:6e3,onClose:G},l.a.createElement(mt,{onClose:G,severity:"success"},"Assigned Project Successfully!")))}function ft(e){return l.a.createElement(ge.a,Object.assign({elevation:6,variant:"filled"},e))}var _t=localStorage.getItem("LoginToken"),ht={headers:{Authorization:"Bearer "+_t}};var bt=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),height:50,fontSize:24,fontWeight:"bold"},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function vt(e){var a=bt(),t=l.a.useState(""),r=Object(b.a)(t,2),o=r[0],c=r[1],i=l.a.useState(""),s=Object(b.a)(i,2),m=s[0],u=s[1],p=l.a.useState(!1),d=Object(b.a)(p,2),g=d[0],E=d[1],_=function(e,a){"clickaway"!==a&&E(!1)};return Object(n.useEffect)((function(){e.handleGetCompanies()}),[e.alert]),null==_t?l.a.createElement(he,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(pe,null),l.a.createElement(S.a,{maxWidth:"md"},l.a.createElement("div",{className:a.paper},l.a.createElement(v.a,{className:a.avatar},l.a.createElement(Z.a,null)),l.a.createElement(T.a,{style:{paddingBottom:16},component:"h1",variant:"p"},"Add Your Campaign Name"),l.a.createElement("form",{className:a.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),f.a.post("http://expenses.propstory.com/campaign/addCampaignName",{project_id:e.target.project.value,campaign_name:e.target.campaignName.value,planned_leads:e.target.plannedLeads.value,campaign_start_date:e.target.campaignStartDate.value,total_budget:e.target.totalBudget.value},ht).then((function(e){console.log(e),E(!0),setTimeout((function(){window.location.reload(!1)}),2e3)})).catch((function(e){console.log(e)}))}},l.a.createElement(D.a,{container:!0,justify:"center",spacing:4},l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Company"),l.a.createElement("select",{class:"custom-select",name:"company",id:"company",onChange:function(a){c(a.target.value),e.handleGetProjects()},style:{width:"100%"}},e.companies&&e.companies.map((function(e){return l.a.createElement("option",{value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,xs:12,sm:6},l.a.createElement(P.a,{id:"demo-simple-select-label"},"Select Project"),l.a.createElement("select",{className:"custom-select",id:"projectSelect",name:"project",required:!0,value:m,onChange:function(e){u(e.target.value)},style:{width:"100%"}},l.a.createElement("option",{key:"",value:""},"-- Select Project --"),e.projects&&e.projects.filter((function(e){return e.company==o})).map((function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))),l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"campaignName",label:"Choose your Campaign Name",id:"campaignName",helperText:"eg: ProjectName_Month ",autoComplete:"campaignName",size:"small"})),l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"plannedLeads",label:"Assign Planned Leads",id:"plannedLeads",autoComplete:"plannedLeads",size:"small"})),l.a.createElement(D.a,{item:!0,lg:4,xs:12},l.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"totalBudget",label:"Assign Total Budget",id:"totalBudget",autoComplete:"totalBudget",size:"small"})),l.a.createElement(D.a,{item:!0,lg:6,xs:12},l.a.createElement(P.a,{shrink:!0,htmlFor:"bootstrap-input"},"Campaign Start Date"),l.a.createElement(C.a,{required:!0,fullWidth:!0,name:"campaignStartDate",id:"outlined-campaignStartDate",type:"date",autoComplete:"campaignStartDate"})),l.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Add Camapign Name")),l.a.createElement(D.a,{container:!0,justify:"flex-end"})))),l.a.createElement(de.a,{open:g,autoHideDuration:6e3,onClose:_},l.a.createElement(ft,{onClose:_,severity:"success"},"Added your campaign name successfully")))}var yt=localStorage.getItem("LoginToken"),Ct=localStorage.getItem("LoggedinUser"),St=localStorage.getItem("userCompany"),xt={headers:{Authorization:"Bearer "+yt}},Dt=function(e){Object(d.a)(t,e);var a=Object(g.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).componentWillMount=function(){var e=localStorage.getItem("Lastclear"),a=(new Date).getTime();a-e>864e5&&(localStorage.removeItem("LoginToken"),localStorage.setItem("Lastclear",a))},n.handleGetCompanies=function(){f.a.get("http://expenses.propstory.com/api/getCompanies",xt).then((function(e){console.log(e);var a=e.data.companies;console.log(a),n.setState({companies:a})})).catch((function(e){return console.log(e)}))},n.handleGetProjects=function(){var e={user_id:Ct,company_id:St};f.a.post("http://expenses.propstory.com/project/getProjects",e,xt).then((function(e){console.log(e);var a=e.data.projects;n.setState({projects:a}),console.log(n.state.projects)})).catch((function(e){return console.log(e)}))},n.handleLoginSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.a)(n),a.preventDefault(),f.a.post("http://expenses.propstory.com/users/login",{email:a.target.email.value,password:a.target.password.value}).then((function(e){console.log(e),localStorage.setItem("LoginToken",e.data.token),localStorage.setItem("LoggedinUser",e.data.user._id),localStorage.setItem("userCompany",e.data.user.company),localStorage.setItem("userRole",e.data.user.role)})).then((function(){window.location.href="http://expenses.propstory.com/viewexpense"})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleCitySubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t=Object(p.a)(n),f.a.post("http://expenses.propstory.com/api/addCity",{city:a.target.city.value,region:a.target.region.value},xt).then((function(e){console.log(e),t.setState({alert:!0}),setTimeout((function(){window.location.reload(!1)}),2e3)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleCompanySubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t=Object(p.a)(n),f.a.post("http://expenses.propstory.com/api/addCompany",{company:a.target.company.value},xt).then((function(e){console.log(e),t.setState({alert:!0}),setTimeout((function(){window.location.reload(!1)}),2e3)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleProjectSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t=Object(p.a)(n),f.a.post("http://expenses.propstory.com/project/addProject",{project:a.target.project.value,city:a.target.city.value,company:a.target.company.value},xt).then((function(e){console.log(e),t.setState({alert:!0}),setTimeout((function(){window.location.reload(!1)}),2e3)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleRegisterSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),t=Object(p.a)(n),a.preventDefault(),e.next=5,f.a.post("http://expenses.propstory.com/users/register",{name:a.target.name.value,email:a.target.email.value,company:a.target.company.value,password:a.target.password.value,password2:a.target.password2.value},xt).then((function(e){console.log(e),t.setState({alert:!0})})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleExpenseSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=Object(p.a)(n),e.next=4,f.a.post("http://expenses.propstory.com/expenses",{user:Ct,project:a.target.project.value,campaignType:a.target.campaignType.value,campaignName:a.target.campaignName.value,actualLeads:a.target.actualLeads.value,plannedLeads:a.target.plannedLeads.value,allocation:a.target.allocation.value,totalBudget:a.target.totalBudget.value,cpl:a.target.cpl.value,clicks:a.target.clicks.value,impressions:a.target.impressions.value,totalSpending:a.target.totalSpending.value,spendingDate:a.target.spendingDate.value,campaignStartDate:a.target.campaignStartDate.value},xt).then((function(e){console.log(e),t.setState({alert:!0}),setTimeout((function(){window.location.reload(!1)}),2e3)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleUpdateExpense=function(){var e=Object(s.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,f.a.post("http://expenses.propstory.com/expenses",{_id:a.target.expenseid.value,user:Ct,project:a.target.project.value,campaignType:a.target.campaignType.value,actualLeads:a.target.actualLeads.value,plannedLeads:a.target.plannedLeads.value,totalBudget:a.target.totalBudget.value,cpl:a.target.totalSpending.value/a.target.actualLeads.value,clicks:a.target.clicks.value,impressions:a.target.impressions.value,totalSpending:a.target.totalSpending.value,spendingDate:a.target.spendingDate.value,campaignStartDate:a.target.campaignStartDate.value,campaignName:a.target.campaignName.value},xt).then((function(e){console.log(e),alert("UPDATED YOUR EXPENSE SUCCESSFULLY"),window.location.reload(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleViewExpenseSubmit=function(){var e=Object(s.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),console.log("VIEWING"),t=Object(p.a)(n),a.preventDefault(),e.next=6,f.a.post("http://expenses.propstory.com/project/projectData",{project:a.target.project.value,startDate:a.target.startDate.value,endDate:a.target.endDate.value},xt).then((function(e){console.log("comin inside then"),console.log(e);var a=e.data.spendings;t.setState({campaignData:a})})).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={cities:[],companies:[],campaignData:[],show:!1,projects:[],alert:!1,campaignName:[]},n}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(_.a,null,l.a.createElement("div",null,l.a.createElement(h.c,null,l.a.createElement(h.a,{exact:!0,path:"/",component:Ge}),l.a.createElement(h.a,{exact:!0,path:"/users/login",render:function(){return l.a.createElement(Ve,{handleLoginSubmit:e.handleLoginSubmit})}}),l.a.createElement(h.a,{exact:!0,path:"/users/register",render:function(){return l.a.createElement(Ze,{alert:e.state.alert,handleRegisterSubmit:e.handleRegisterSubmit})}}),l.a.createElement(h.a,{exact:!0,path:"/footer",component:ta}),l.a.createElement(h.a,{exact:!0,path:"/addexpense",render:function(){return l.a.createElement(Se,{show:e.state.show,handleExpenseSubmit:e.handleExpenseSubmit,handleGetProjects:e.handleGetProjects,handleGetCompanies:e.handleGetCompanies,companies:e.state.companies,projects:e.state.projects,alert:e.state.alert})}}),l.a.createElement(h.a,{exact:!0,path:"/addcity",render:function(){return l.a.createElement(Te,{user:e.state.user,show:e.state.show,handleCitySubmit:e.handleCitySubmit,alert:e.state.alert})}}),l.a.createElement(h.a,{exact:!0,path:"/addproject",render:function(){return l.a.createElement(We,{user:e.state.user,show:e.state.show,handleProjectSubmit:e.handleProjectSubmit,handleGetCompanies:e.handleGetCompanies,companies:e.state.companies,alert:e.state.alert})}}),l.a.createElement(h.a,{exact:!0,path:"/addcompany",render:function(){return l.a.createElement(Ue,{user:e.state.user,show:e.state.show,handleCompanySubmit:e.handleCompanySubmit,alert:e.state.alert})}}),l.a.createElement(h.a,{exact:!0,path:"/add_campaign_name",render:function(){return l.a.createElement(vt,{user:e.state.user,handleGetProjects:e.handleGetProjects,projects:e.state.projects,handleGetCompanies:e.handleGetCompanies,companies:e.state.companies})}}),l.a.createElement(h.a,{exact:!0,path:"/viewexpense",render:function(){return l.a.createElement(Na,{user:e.state.user,result:e.state.campaignData,handleUpdateExpense:e.handleUpdateExpense,handleViewExpenseSubmit:e.handleViewExpenseSubmit,handleGetProjects:e.handleGetProjects,projects:e.state.projects})}}),l.a.createElement(h.a,{exact:!0,path:"/manageusers",render:function(){return l.a.createElement(Et,{user:e.state.user,handleGetCompanies:e.handleGetCompanies,companies:e.state.companies})}}),l.a.createElement(h.a,{exact:!0,path:"/automated_expense/facebook",projects:this.state.projects,render:function(){return l.a.createElement(Ua,null)}})))))}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(282);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[218,1,2]]]);
//# sourceMappingURL=main.97a10e7c.chunk.js.map